!function(e){"use strict";var t=e.$CSS,n=e.document,r=n.head||n.getElementsByTagName("head")[0],o=/^[^?#]*\//.exec(location.href)[0],a=/^[\w|\-]+:\/\/\/?[^\/]+/.exec(o)[0],i=[];function l(e){return"[object Function]"==Object.prototype.toString.call(e)}function f(e){return"[object Array]"==Object.prototype.toString.call(e)}function u(e){return"undefined"!=typeof e}function c(e,t){var n=/^\w+:\/\//;return/^\/\/\/?/.test(e)?e=location.protocol+e:n.test(e)||"/"==e.charAt(0)||(e=(t||"")+e),n.test(e)?e:("/"==e.charAt(0)?a:o)+e}function s(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function h(){var r,o={insertAtElement:null,insertBefore:!1,basePath:"",allowDuplicates:!1,cacheBust:!1};function a(){var a,h,d,p=s(o,{}),v=[],y=[],g=[],S=[],b=!1,m=!1;function E(e,t){b=!0,e.media=t;for(var n=0,r=v.length;r>n;n++)v[n](e);for(var o=0,a=g.length;a>n;n++)g[o](e)}function A(e){m=!0;for(var t=0,n=y.length;n>t;t++)y[t](e);for(var r=0,o=g.length;o>t;t++)g[r](e)}function O(e,t,r,o){var a,l=n.createElement("link");if(t=n.querySelector(t)||n.querySelector("meta"),e["data-href"]=e.href,e.href=c(e.href,o)+(p.cacheBust?(/\?.*$/.test(e.href)?"&_":"?_")+~~(1e9*Math.random())+"=":""),!p.allowDuplicates)for(var f=i.length;f--;)if(e.href===i[f])return!1;if(i.push(e.href),"object"==typeof e)for(a in e)e.hasOwnProperty(a)&&l.setAttribute(a,e[a]);return l.rel="stylesheet",l.media="none",t.parentNode.insertBefore(l,r?t:t.nextSibling),l}function w(t,r){var o=0,a=20,i=n.styleSheets.length;u(t.addEventListener)?(t.addEventListener("load",E.bind(e,t,r),!1),t.addEventListener("error",A.bind(e,t),!1)):u(t.attachEvent)?t.attachEvent("onload",l):l();function l(){var e=setInterval(function(){var l,f=n.styleSheets,u=f.length;if(u>i){try{for(;u--;)if(f[u].href===t.href)return clearInterval(e),l=f[u].cssText,void E(t,r)}catch(c){}b||A(t)}o++>=a&&(clearInterval(e),b||A(t))},500)}}return a={load:function(){return function(e){for(var t=0;t<e.length;t++){var n,r,o=e[t];f(o)||(o=[o]);for(var a=0,i=o.length;i>a;a++)r=o[a],l(r)&&(r=r()),r&&(f(r)?(n=[].slice.call(r),n.unshift(a,1),[].splice.apply(o,n),a--):("string"==typeof r&&(r={href:r}),r=s(r,{media:"all"}),d=O(r,p.insertAtElement,p.insertBefore,p.basePath),d&&(S.push(d),w(d,r.media))))}}(arguments),h},noConflict:function(){return e.$CSS=t,r.setOptions}},h={done:function(e){return v.push(e),b&&e(S[S.length-1]),h},fail:function(e){return y.push(e),m&&e(S[S.length-1]),h},always:function(e){return g.push(e),(b||m)&&e(S[S.length-1]),h}},{setOptions:function(e){return p=s(e,p),a}}}return r={setOptions:function(){return a().setOptions.apply(null,arguments)}}}e.$CSS=h().setOptions,function(t){for(var n=0,o=t.length;o>n;n++){var a=t[n].getAttribute("href"),i='link[href="'+a+'"]';e.$CSS({insertAtElement:i}).load(a).always(function(e){r.removeChild(r.querySelector(e))}.bind(e,i))}}(r.querySelectorAll('link[rel=preload][as="style"]'))}("undefined"!=typeof global?global:"undefined"!=typeof exports?exports:this);